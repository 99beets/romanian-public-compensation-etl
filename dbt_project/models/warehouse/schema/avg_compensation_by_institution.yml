version: 2

models:
  - name: avg_compensation_by_institution
    description: >
      Analytical model aggregating the average total compensation by each
      supervising authority (`autoritate_tutelara`).  
      Built from the cleaned and normalized staging model `stg_indemnizatii`.

    columns:
      - name: autoritate_tutelara
        description: >
          Supervising authority (e.g., MINISTERUL SĂNĂTĂȚII, MINISTERUL ENERGIEI).  
          Uppercased for consistency across reporting layers.
        tests:
          - not_null
          - unique

      - name: avg_total_compensation
        description: >
          Average of the total monthly compensation amounts for all individuals
          associated with the same supervising authority.
        tests:
          - not_null
          - accepted_range:
              arguments:
                min_value: 0
                max_value: 999999